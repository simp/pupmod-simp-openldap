---
simp_options::trusted_nets:
 - 'ALL'
simp_options::firewall: false
simp_options::sssd: false
simp_options::pki: true
simp_options::syslog: false

openldap::server::conf::default_ldif::ppolicy_pwd_min_age: 0
openldap::server::conf::default_ldif::ppolicy_pwd_failure_count_interval: 4

simp_options::ldap::uri:
  - 'ldap://<%= server_fqdn %>'
simp_options::ldap::base_dn: '<%= domains %>'
simp_options::ldap::bind_dn: 'cn=hostAuth,ou=Hosts,<%= domains %>'
simp_options::ldap::bind_pw: 'foobarbaz'
simp_options::ldap::bind_hash: '{SSHA}BNPDR0qqE6HyLTSlg13T0e/+yZnSgYQz'
simp_options::ldap::sync_dn: 'cn=LDAPSync,ou=Hosts,<%= domains %>'
simp_options::ldap::sync_pw: 'foobarbaz'
simp_options::ldap::sync_hash: '{SSHA}BNPDR0qqE6HyLTSlg13T0e/+yZnSgYQz'
simp_options::ldap::root_dn: 'cn=LDAPAdmin,ou=People,<%= domains %>'
simp_options::ldap::root_hash: '{SSHA}BNPDR0qqE6HyLTSlg13T0e/+yZnSgYQz'
simp_options::ldap::master: 'ldap://<%= server_fqdn %>'
# suP3rP@ssw0r!
simp_options::ldap::root_hash: "{SSHA}ZcqPNbcqQhDNF5jYTLGl+KAGcrHNW9oo"

openldap::server::tcpwrappers: false
openldap::server::conf::pki: true
openldap::server::conf::use_simp_pki: false
openldap::client::pki: true
openldap::client::use_simp_pki: false

# Need to tell our modules where our certs live!
# This is a good test of the case where users don't want to use our PKI module.
pki_dir : '/etc/pki/simp-testing/pki'
openldap::client::app_pki_ca_dir: "%{hiera('pki_dir')}/cacerts"
openldap::client::app_pki_cert: "%{hiera('pki_dir')}/public/<%= server_fqdn %>.pub"
openldap::client::app_pki_key: "%{hiera('pki_dir')}/private/<%= server_fqdn %>.pem"
openldap::server::conf::app_pki_ca_dir: "%{hiera('pki_dir')}/cacerts"
openldap::server::conf::app_pki_cert: "%{hiera('pki_dir')}/public/<%= server_fqdn %>.pub"
openldap::server::conf::app_pki_key:  "%{hiera('pki_dir')}/private/<%= server_fqdn %>.pem"
